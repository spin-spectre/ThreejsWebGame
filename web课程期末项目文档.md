

# web课程期末项目说明文档

## 1.项目目录结构说明

- asset：  静态非代码资源目录（图片、3d模型、声音等）

  - images为项目所用图片的目录
  - models为项目使用的3d模型存放的目录
  - sound为项目所使用的声效文件所存放的目录

- css： css样式表文件目录

  - base.css:项目所使用的一些通用的css样式
  - burger.css:项目中出现的汉堡按钮（即点击弹出选项的按钮）所使用的css样式
  - button.css:项目所使用的所有按钮的样式
  - congratulate.css:项目中游戏胜利页面所使用的css样式
  - font.css:项目中所使用的特殊字体和图形化按钮图标所需要的css样式
  - game.css:项目中游戏界面本身所需要的背景颜色渐变等的css样式
  - ocean.css:海洋主题游戏界面所特有的css样式
  - popup.css:海洋主题游戏界面中初始游戏时的弹窗提示界面所使用的css样式
  - score.css:游戏中分数显示所需要的css样式

- js：  由个人所写的javascreipt文件存放的目录

  - congratulation.js:游戏中祝贺页面相关逻辑所需要的js文件
  - fireworks.js:游戏中祝贺页面中礼花特效所需要的js文件
  - oceanGame.js:游戏中海洋主题游戏界面逻辑实现所需要的js文件
  - spaceGame.js:游戏中太空主题游戏界面逻辑实现所需要的js文件

- script：  引用的第三方js库等文件

  - 实现一些非3d特效、特殊字体、动态画面、键盘信息处理所需要的第三方js库文件等

- three.js-r119：  引用的threejs框架的目录

  - 实现游戏3d画面与逻辑所需要的webgl引擎threejs的第119版

- 根目录下存放个人所写的html文件

  - congratulate.html:游戏庆祝页面使用的html文件
  - index.html:游戏中海洋主题游戏界面实现所需要的html文件,游戏的入口
  - spaceGame.html:游戏中海洋主题游戏界面实现所需要的html文件


## 2.项目打开方式

- 使用webstorm/phpstorm/intellijidea/pycharm等IDE工具打开项目
- 点击oceanGame.html打开，鼠标移动到右上角使用浏览器打开即可运行
- 按空格键开始游戏
- 按x键进行射击 按方向键 进行左右移动
- 游戏规则：躲避金字塔形障碍物，射击障碍物得分，超过1000分获得胜利

![image-20200829104802974](D:\Desktop\web期末项目\1文档照片\1.jpg)

- 游戏开始时会显示半透明弹窗显示 使用方向键来移动 按X键射击 按M键切换到太空模式 按空格开始

- 得分超过1000分获得胜利，分数少于-200分会失败

- 游戏规则：撞到金字塔形障碍物扣100分，击中金字塔形障碍物加300分

- 当我们按下M键时来到太空模式，界面如下：

  ![](D:\Desktop\web期末项目\1文档照片\2.jpg)

- ![](D:\Desktop\web期末项目\1文档照片\3.jpg)

- 点击右上角的汉堡按钮可以切换模式

- 当游戏超过1000分时即可获得胜利，到达胜利页面，看到动态的礼花：

  ![](D:\Desktop\web期末项目\1文档照片\4.jpg)

- 当游戏因为碰撞到太多的障碍物而分数低于-200分时，会显示失败界面，海洋模式如下：

  ![](D:\Desktop\web期末项目\1文档照片\5.jpg)

- 在太空模式下会跳转到失败界面：
- ![](D:\Desktop\web期末项目\1文档照片\6.jpg)

- 在海洋模式下按M键可以更换为太空模式进行游戏。
- 按下数字键1可以播放音乐



## 3.游戏关键逻辑的设计思路

- 使用的框架为threejs，一个webgl渲染引擎
- 选用模型的方法是： 加载obj mtl飞机飞船模型
- 子弹 ：子弹使用粒子模型当其超过摄像机相应距离将其消除
- 碰撞检测 ：threejs本身未没有碰撞检测，因此通过射线重叠的方法判断是否产生碰撞
- 爆炸：使用threejs基础粒子系统，在碰撞发生的地点生成爆炸特效 粒子以随机四散的方式发射，随时间而渐渐消散
- 海 ：实际是很大的圆柱体，通过获得渲染该图形的每个图形的每个三角形，为每个三角形的三个顶点的位置加入随机变化的波动形成海浪的效果
- 云朵：由大小随机的半透明白色方块随机聚集而成，每朵云都有不同的形态
- 螺旋桨：通过基础形状拼接而成的整体 通过渲染刷新具有旋转动效
- 庆祝页面的烟花：使用anime.js实现的烟花效果 在指定区域内按时间间隔释放并消散，鼠标点击时会在鼠标点击的地方释放
- 字体：使用tweenmax.js为庆祝字体加入旋转缩放的动态效果，字体使用谷歌api提供的pacifico艺术字体
- 太空模式下的星空 ：设置粒子以加速度和旋转给人高速飞行的感觉
- 划窗（或可称为汉堡按钮）：使用纯css设计，点击后即可全屏显示选项，动效通过圆形画面逐渐放大形成
- 音乐 两种主题下选用不同的音乐 提高海洋风格的轻松感和科幻风的节奏感，按下数字键1可以播放音乐
  